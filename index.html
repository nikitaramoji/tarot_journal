
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2025: A Year of Reflection and Insight</title>
<link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/8/8f/Three_of_Cups%2C_Waite-Smith_Tarot_Deck%2C_Yale_University.jpg">
<script type="module">
import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js";
document.addEventListener('DOMContentLoaded', () => {
    const entryDatePicker = document.getElementById('entry-date-picker');
    entryDatePicker.value = new Date().toLocaleDateString('en-CA'); // Set to current date
    entryDatePicker.addEventListener('input', loadEntryForSelectedDate);
    initializeSaveEntry();
    auth.onAuthStateChanged(async (user) => {
    if (user) {
    await loadEntryForSelectedDate();
    }
    });
    initializeSaveEntry();

    const tarotCardSelect = document.getElementById('tarot-card-select');
    const tarotCardImage = document.querySelector('#journal-container img');

    tarotCardSelect.addEventListener('change', (event) => {
        const cardValue = event.target.value;
        const imagePath = getCardImagePath(cardValue);
        if (imagePath) {
        tarotCardImage.src = `https://upload.wikimedia.org/wikipedia/commons/thumb/${imagePath}`;
        tarotCardImage.alt = `${event.target.options[event.target.selectedIndex].text} Tarot Card`;
        } else {
        tarotCardImage.src = '';
        tarotCardImage.alt = 'Tarot Card Not Available';
        }
        tarotCardImage.alt = `${event.target.options[event.target.selectedIndex].text} Tarot Card`;
    });
});

function getCardImagePath(cardValue) {
const cardPaths = {
'the_fool': '9/90/RWS_Tarot_00_Fool.jpg/150px-RWS_Tarot_00_Fool.jpg',
'the_magician': 'd/de/RWS_Tarot_01_Magician.jpg/150px-RWS_Tarot_01_Magician.jpg',
'the_high_priestess': '8/88/RWS_Tarot_02_High_Priestess.jpg/150px-RWS_Tarot_02_High_Priestess.jpg',
'the_empress': 'd/d2/RWS_Tarot_03_Empress.jpg/150px-RWS_Tarot_03_Empress.jpg',
'the_emperor': 'c/c3/RWS_Tarot_04_Emperor.jpg/150px-RWS_Tarot_04_Emperor.jpg',
'the_hierophant': '8/8d/RWS_Tarot_05_Hierophant.jpg/150px-RWS_Tarot_05_Hierophant.jpg',
'the_lovers': 'd/db/RWS_Tarot_06_Lovers.jpg/150px-RWS_Tarot_06_Lovers.jpg',
'the_chariot': '9/9b/RWS_Tarot_07_Chariot.jpg/150px-RWS_Tarot_07_Chariot.jpg',
'strength': 'f/f5/RWS_Tarot_08_Strength.jpg/150px-RWS_Tarot_08_Strength.jpg',
'the_hermit': '4/4d/RWS_Tarot_09_Hermit.jpg/150px-RWS_Tarot_09_Hermit.jpg',
'wheel_of_fortune': '3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg/150px-RWS_Tarot_10_Wheel_of_Fortune.jpg',
'justice': 'e/e0/RWS_Tarot_11_Justice.jpg/150px-RWS_Tarot_11_Justice.jpg',
'the_hanged_man': '2/2b/RWS_Tarot_12_Hanged_Man.jpg/150px-RWS_Tarot_12_Hanged_Man.jpg',
'death': 'd/d7/RWS_Tarot_13_Death.jpg/150px-RWS_Tarot_13_Death.jpg',
'temperance': 'f/f8/RWS_Tarot_14_Temperance.jpg/150px-RWS_Tarot_14_Temperance.jpg',
'the_devil': '5/55/RWS_Tarot_15_Devil.jpg/150px-RWS_Tarot_15_Devil.jpg',
'the_tower': '5/53/RWS_Tarot_16_Tower.jpg/150px-RWS_Tarot_16_Tower.jpg',
'the_star': 'd/db/RWS_Tarot_17_Star.jpg/150px-RWS_Tarot_17_Star.jpg',
'the_moon': '7/7f/RWS_Tarot_18_Moon.jpg/150px-RWS_Tarot_18_Moon.jpg',
'the_sun': '1/17/RWS_Tarot_19_Sun.jpg/150px-RWS_Tarot_19_Sun.jpg',
'judgement': 'd/dd/RWS_Tarot_20_Judgement.jpg/150px-RWS_Tarot_20_Judgement.jpg',
'the_world': 'f/ff/RWS_Tarot_21_World.jpg/150px-RWS_Tarot_21_World.jpg',
"ace_of_wands": '1/11/Wands01.jpg/207px-Wands01.jpg/150px-Wands01.jpg',
"two_of_wands": "f/f2/RWS_Tarot_Wands02.jpg/150px-RWS_Tarot_Wands02.jpg",
"three_of_wands": "5/55/RWS_Tarot_Wands03.jpg/150px-RWS_Tarot_Wands03.jpg",
"four_of_wands": "f/fd/RWS_Tarot_Wands04.jpg/150px-RWS_Tarot_Wands04.jpg",
"five_of_wands": "a/a5/RWS_Tarot_Wands05.jpg/150px-RWS_Tarot_Wands05.jpg",
"six_of_wands": "3/3e/RWS_Tarot_Wands06.jpg/150px-RWS_Tarot_Wands06.jpg",
"seven_of_wands": "e/e4/RWS_Tarot_Wands07.jpg/150px-RWS_Tarot_Wands07.jpg",
"eight_of_wands": "8/88/RWS_Tarot_Wands08.jpg/150px-RWS_Tarot_Wands08.jpg",
"nine_of_wands": "4/4e/RWS_Tarot_Wands09.jpg/150px-RWS_Tarot_Wands09.jpg",
"ten_of_wands": "0/0d/RWS_Tarot_Wands10.jpg/150px-RWS_Tarot_Wands10.jpg",
"page_of_wands": "1/11/RWS_Tarot_Wands11.jpg/150px-RWS_Tarot_Wands11.jpg",
"knight_of_wands": "0/0c/RWS_Tarot_Wands12.jpg/150px-RWS_Tarot_Wands12.jpg",
"queen_of_wands": "c/ce/RWS_Tarot_Wands13.jpg/150px-RWS_Tarot_Wands13.jpg",
"king_of_wands": "3/3d/RWS_Tarot_Wands14.jpg/150px-RWS_Tarot_Wands14.jpg",
"ace_of_cups": "5/5b/RWS_Tarot_Cups01.jpg/150px-RWS_Tarot_Cups01.jpg",
"two_of_cups": "f/f8/RWS_Tarot_Cups02.jpg/150px-RWS_Tarot_Cups02.jpg",
"three_of_cups": "8/82/RWS_Tarot_Cups03.jpg/150px-RWS_Tarot_Cups03.jpg",
"four_of_cups": "a/aa/RWS_Tarot_Cups04.jpg/150px-RWS_Tarot_Cups04.jpg",
"five_of_cups": "3/35/RWS_Tarot_Cups05.jpg/150px-RWS_Tarot_Cups05.jpg",
"six_of_cups": "d/d6/RWS_Tarot_Cups06.jpg/150px-RWS_Tarot_Cups06.jpg",
"seven_of_cups": "0/01/RWS_Tarot_Cups07.jpg/150px-RWS_Tarot_Cups07.jpg",
"eight_of_cups": "8/84/RWS_Tarot_Cups08.jpg/150px-RWS_Tarot_Cups08.jpg",
"nine_of_cups": "2/24/RWS_Tarot_Cups09.jpg/150px-RWS_Tarot_Cups09.jpg",
"ten_of_cups": "5/52/RWS_Tarot_Cups10.jpg/150px-RWS_Tarot_Cups10.jpg",
"page_of_cups": "f/fd/RWS_Tarot_Cups11.jpg/150px-RWS_Tarot_Cups11.jpg",
"knight_of_cups": "c/c3/RWS_Tarot_Cups12.jpg/150px-RWS_Tarot_Cups12.jpg",
"queen_of_cups": "6/62/RWS_Tarot_Cups13.jpg/150px-RWS_Tarot_Cups13.jpg",
"king_of_cups": "4/42/RWS_Tarot_Cups14.jpg/150px-RWS_Tarot_Cups14.jpg",
"ace_of_swords": "1/1a/RWS_Tarot_Swords01.jpg/150px-RWS_Tarot_Swords01.jpg",
"two_of_swords": "e/e5/RWS_Tarot_Swords02.jpg/150px-RWS_Tarot_Swords02.jpg",
"three_of_swords": "6/6f/RWS_Tarot_Swords03.jpg/150px-RWS_Tarot_Swords03.jpg",
"four_of_swords": "7/76/RWS_Tarot_Swords04.jpg/150px-RWS_Tarot_Swords04.jpg",
"five_of_swords": "2/29/RWS_Tarot_Swords05.jpg/150px-RWS_Tarot_Swords05.jpg",
"six_of_swords": "e/ef/RWS_Tarot_Swords06.jpg/150px-RWS_Tarot_Swords06.jpg",
"seven_of_swords": "5/55/RWS_Tarot_Swords07.jpg/150px-RWS_Tarot_Swords07.jpg",
"eight_of_swords": "2/23/RWS_Tarot_Swords08.jpg/150px-RWS_Tarot_Swords08.jpg",
"nine_of_swords": "8/8c/RWS_Tarot_Swords09.jpg/150px-RWS_Tarot_Swords09.jpg",
"ten_of_swords": "d/d4/RWS_Tarot_Swords10.jpg/150px-RWS_Tarot_Swords10.jpg",
"page_of_swords": "9/94/RWS_Tarot_Swords11.jpg/150px-RWS_Tarot_Swords11.jpg",
"knight_of_swords": "b/b0/RWS_Tarot_Swords12.jpg/150px-RWS_Tarot_Swords12.jpg",
"queen_of_swords": "1/1c/RWS_Tarot_Swords13.jpg/150px-RWS_Tarot_Swords13.jpg",
"king_of_swords": "3/36/RWS_Tarot_Swords14.jpg/150px-RWS_Tarot_Swords14.jpg",
"ace_of_pentacles": "9/96/RWS_Tarot_Pentacles01.jpg/150px-RWS_Tarot_Pentacles01.jpg",
"two_of_pentacles": "8/80/RWS_Tarot_Pentacles02.jpg/150px-RWS_Tarot_Pentacles02.jpg",
"three_of_pentacles": "d/d0/RWS_Tarot_Pentacles03.jpg/150px-RWS_Tarot_Pentacles03.jpg",
"four_of_pentacles": "1/16/RWS_Tarot_Pentacles04.jpg/150px-RWS_Tarot_Pentacles04.jpg",
"five_of_pentacles": "7/7b/RWS_Tarot_Pentacles05.jpg/150px-RWS_Tarot_Pentacles05.jpg",
"six_of_pentacles": "4/42/RWS_Tarot_Pentacles06.jpg/150px-RWS_Tarot_Pentacles06.jpg",
"seven_of_pentacles": "7/7b/RWS_Tarot_Pentacles07.jpg/150px-RWS_Tarot_Pentacles07.jpg",
"eight_of_pentacles": "8/8d/RWS_Tarot_Pentacles08.jpg/150px-RWS_Tarot_Pentacles08.jpg",
"nine_of_pentacles": "6/6a/RWS_Tarot_Pentacles09.jpg/150px-RWS_Tarot_Pentacles09.jpg",
"ten_of_pentacles": "3/3f/RWS_Tarot_Pentacles10.jpg/150px-RWS_Tarot_Pentacles10.jpg",
"page_of_pentacles": "b/bf/RWS_Tarot_Pentacles11.jpg/150px-RWS_Tarot_Pentacles11.jpg",
"knight_of_pentacles": "4/49/RWS_Tarot_Pentacles12.jpg/150px-RWS_Tarot_Pentacles12.jpg",
"queen_of_pentacles": "8/88/RWS_Tarot_Pentacles13.jpg/150px-RWS_Tarot_Pentacles13.jpg",
"king_of_pentacles": "3/3f/RWS_Tarot_Pentacles14.jpg/150px-RWS_Tarot_Pentacles14.jpg"
};
return cardPaths[cardValue] || '';
}
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";

const firebaseConfig = {
apiKey: "AIzaSyDmlkmqRxQCohuSzLV6oXXSkgiRqZIgRSw",
authDomain: "tarot-journal-a37af.firebaseapp.com",
projectId: "tarot-journal-a37af",
storageBucket: "tarot-journal-a37af.firebasestorage.app",
messagingSenderId: "254712606286",
appId: "1:254712606286:web:26c4dafa31831c98985d1f",
measurementId: "G-NKG8B5348L"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();
const db = getFirestore(app);

document.addEventListener('DOMContentLoaded', () => {
const signInButton = document.getElementById('sign-in-button');
const signOutButton = document.getElementById('sign-out-button');
const userInfo = document.getElementById('user-info');
const journal = document.getElementById('journal-container');

auth.onAuthStateChanged((user) => {
if (user) {
journal.style.display = 'block';
userInfo.style.display = 'block';
signInButton.style.display = 'none';
signOutButton.style.display = 'inline-block';
document.getElementById('user-name').textContent = `Welcome, ${user.displayName}`;
document.getElementById('user-email').textContent = `Email: ${user.email}`;
} else {
journal.style.display = 'none';
userInfo.style.display = 'none';
signInButton.style.display = 'inline-block';
signOutButton.style.display = 'none';
}
});

signInButton.addEventListener('click', () => {
signInWithPopup(auth, provider)
.then((result) => {
const user = result.user;
journal.style.display = 'block';
userInfo.style.display = 'block';
signInButton.style.display = 'none';
signOutButton.style.display = 'inline-block';
document.getElementById('user-name').textContent = `Welcome, ${user.displayName}`;
document.getElementById('user-email').textContent = `Email: ${user.email}`;
})
.catch((error) => {
console.error('Sign-in error:', error.message);
alert('Sign-in error: ' + error.message);
});
});

signOutButton.addEventListener('click', () => {
signOut(auth)
.then(() => {
journal.style.display = 'none';
userInfo.style.display = 'none';
signInButton.style.display = 'inline-block';
signOutButton.style.display = 'none';
})
.catch((error) => {
console.error('Sign-out error:', error.message);
alert('Sign-out error: ' + error.message);
});
});
});
const textCardButton = document.createElement('button');
textCardButton.textContent = 'Text Card';
textCardButton.className = 'submit-button';
document.getElementById('journal-container').appendChild(textCardButton);

textCardButton.addEventListener('click', () => {
const tarotCardSelect = document.getElementById('tarot-card-select');
const tarotCardImage = document.querySelector('#journal-container img');
const cardName = tarotCardSelect.options[tarotCardSelect.selectedIndex].text;
sendSMS(`This day\'s tarot card is ${cardName}: ${tarotCardImage.src}`);
});

textCardButton.addEventListener('click', () => {
const tarotCardSelect = document.getElementById('tarot-card-select');
const tarotCardImage = document.querySelector('#journal-container img');
const cardName = tarotCardSelect.options[tarotCardSelect.selectedIndex].text;
sendSMS('This day\'s tarot card is ' + tarotCardImage.src);
//sendSMS(`https://upload.wikimedia.org/wikipedia/commons/thumb/${getCardImagePath(cardValue)}');
});

function sendSMS(message) {
const smsLink = `sms:?&body=${encodeURIComponent(message)}`;
window.location.href = smsLink;
}

async function loadEntryForSelectedDate() {
const user = auth.currentUser;
if (!user) {
alert('Please sign in to view your entries.');
return;
}
const selectedDate = document.getElementById('entry-date-picker').value;
if (!selectedDate) {
return;
}
await getEntryForDate(user.uid, selectedDate);
}

async function getEntryForDate(userId, date) {
try {
const docRef = doc(db, 'users', userId, 'entries', date);
const docSnap = await getDoc(docRef);
if (docSnap.exists()) {
const data = docSnap.data();
document.querySelector('textarea[placeholder="What\'s your focus or intention for the day?"]').value = data.morningIntentions;
document.querySelector('textarea[placeholder="How did the day unfold? What lessons or insights emerged?"]').value = data.eveningReflection;
document.getElementById('tarot-card-select').value = data.cardValue;
updateTarotCardImage(data.cardValue);
} else {
document.querySelector('textarea[placeholder="What\'s your focus or intention for the day?"]').value = '';
document.querySelector('textarea[placeholder="How did the day unfold? What lessons or insights emerged?"]').value = '';
document.getElementById('tarot-card-select').value = 'the_fool';
updateTarotCardImage('the_fool');
}
} catch (error) {
console.error('Error fetching entry: ', error);
alert('Failed to load the entry. Please try again.');
}
}

function updateTarotCardImage(cardValue) {
const tarotCardImage = document.querySelector('#journal-container img');
const imagePath = getCardImagePath(cardValue);
if (imagePath) {
tarotCardImage.src = `https://upload.wikimedia.org/wikipedia/commons/thumb/${imagePath}`;
tarotCardImage.alt = `${document.getElementById('tarot-card-select').options[document.getElementById('tarot-card-select').selectedIndex].text} Tarot Card`;
} else {
tarotCardImage.src = '';
tarotCardImage.alt = 'Tarot Card Not Available';
}
}

function initializeSaveEntry() {
const saveEntryButton = document.querySelector('.submit-button');
saveEntryButton.addEventListener('click', async () => {
const user = auth.currentUser;
if (!user) {
alert('Please sign in to save your entry.');
return;
}

const morningIntentions = document.querySelector('textarea[placeholder="What\'s your focus or intention for the day?"]').value;
const eveningReflection = document.querySelector('textarea[placeholder="How did the day unfold? What lessons or insights emerged?"]').value;
const cardValue = document.getElementById('tarot-card-select').value;
const date = document.getElementById('entry-date-picker').value; 

try {
await setDoc(doc(db, 'users', user.uid, 'entries', date), {
morningIntentions,
eveningReflection,
cardValue,
timestamp: new Date()
});
alert('Entry saved successfully!');
} catch (error) {
console.error('Error saving entry: ', error);
alert('Failed to save your entry. Please try again.');
}
});
}
</script>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
<header>
<h1>2025: A Year of Reflection and Insight</h1>
</header>

<div class="google-signin">
<button id="sign-in-button">Sign in with Google</button>
<button id="sign-out-button" style="display: none;">Sign Out</button>
</div>

<section id="user-info" style="display: none;">
<h2>Welcome to your Tarot Journal</h2>
<p id="user-name"></p>
<p id="user-email"></p>
</section>

<div id="journal-container">
<section>
<input type="date" id="entry-date-picker" value="" oninput="loadEntryForSelectedDate()" class="cute-date-picker">
                
</section>
<section>
<h2>Tarot Card of the Day</h2>
<select id="tarot-card-select">
<optgroup label="Major Arcana">
<option value="the_fool">The Fool</option>
<option value="the_magician">The Magician</option>
<option value="the_high_priestess">The High Priestess</option>
<option value="the_empress">The Empress</option>
<option value="the_emperor">The Emperor</option>
<option value="the_hierophant">The Hierophant</option>
<option value="the_lovers">The Lovers</option>
<option value="the_chariot">The Chariot</option>
<option value="strength">Strength</option>
<option value="the_hermit">The Hermit</option>
<option value="wheel_of_fortune">Wheel of Fortune</option>
<option value="justice">Justice</option>
<option value="the_hanged_man">The Hanged Man</option>
<option value="death">Death</option>
<option value="temperance">Temperance</option>
<option value="the_devil">The Devil</option>
<option value="the_tower">The Tower</option>
<option value="the_star">The Star</option>
<option value="the_moon">The Moon</option>
<option value="the_sun">The Sun</option>
<option value="judgement">Judgement</option>
<option value="the_world">The World</option>
</optgroup>
<optgroup label="Lesser Arcana">
    <option value="ace_of_wands">Ace of Wands</option>
    <option value="two_of_wands">Two of Wands</option>
    <option value="three_of_wands">Three of Wands</option>
    <option value="four_of_wands">Four of Wands</option>
    <option value="five_of_wands">Five of Wands</option>
    <option value="six_of_wands">Six of Wands</option>
    <option value="seven_of_wands">Seven of Wands</option>
    <option value="eight_of_wands">Eight of Wands</option>
    <option value="nine_of_wands">Nine of Wands</option>
    <option value="ten_of_wands">Ten of Wands</option>
    <option value="page_of_wands">Page of Wands</option>
    <option value="knight_of_wands">Knight of Wands</option>
    <option value="queen_of_wands">Queen of Wands</option>
    <option value="king_of_wands">King of Wands</option>
    <option value="ace_of_cups">Ace of Cups</option>
    <option value="two_of_cups">Two of Cups</option>
    <option value="three_of_cups">Three of Cups</option>
    <option value="four_of_cups">Four of Cups</option>
    <option value="five_of_cups">Five of Cups</option>
    <option value="six_of_cups">Six of Cups</option>
    <option value="seven_of_cups">Seven of Cups</option>
    <option value="eight_of_cups">Eight of Cups</option>
    <option value="nine_of_cups">Nine of Cups</option>
    <option value="ten_of_cups">Ten of Cups</option>
    <option value="page_of_cups">Page of Cups</option>
    <option value="knight_of_cups">Knight of Cups</option>
    <option value="queen_of_cups">Queen of Cups</option>
    <option value="king_of_cups">King of Cups</option>
    <option value="ace_of_swords">Ace of Swords</option>
    <option value="two_of_swords">Two of Swords</option>
    <option value="three_of_swords">Three of Swords</option>
    <option value="four_of_swords">Four of Swords</option>
    <option value="five_of_swords">Five of Swords</option>
    <option value="six_of_swords">Six of Swords</option>
    <option value="seven_of_swords">Seven of Swords</option>
    <option value="eight_of_swords">Eight of Swords</option>
    <option value="nine_of_swords">Nine of Swords</option>
    <option value="ten_of_swords">Ten of Swords</option>
    <option value="page_of_swords">Page of Swords</option>
    <option value="knight_of_swords">Knight of Swords</option>
    <option value="queen_of_swords">Queen of Swords</option>
    <option value="king_of_swords">King of Swords</option>
    <option value="ace_of_pentacles">Ace of Pentacles</option>
    <option value="two_of_pentacles">Two of Pentacles</option>
    <option value="three_of_pentacles">Three of Pentacles</option>
    <option value="four_of_pentacles">Four of Pentacles</option>
    <option value="five_of_pentacles">Five of Pentacles</option>
    <option value="six_of_pentacles">Six of Pentacles</option>
    <option value="seven_of_pentacles">Seven of Pentacles</option>
    <option value="eight_of_pentacles">Eight of Pentacles</option>
    <option value="nine_of_pentacles">Nine of Pentacles</option>
    <option value="ten_of_pentacles">Ten of Pentacles</option>
    <option value="page_of_pentacles">Page of Pentacles</option>
    <option value="knight_of_pentacles">Knight of Pentacles</option>
    <option value="queen_of_pentacles">Queen of Pentacles</option>
    <option value="king_of_pentacles">King of Pentacles</option>    
</optgroup>
</select>
<label><input type="checkbox" id="reversed-checkbox"> Reversed</label>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/0/00/RWS_Tarot_00_Fool.jpg/150px-RWS_Tarot_00_Fool.jpg" alt="The Fool"></p>
</section>
<section>
<h2>Morning Intentions</h2>
<textarea rows="4" placeholder="What's your focus or intention for the day?"></textarea>
</section>
<section>
<h2>Evening Reflection</h2>
<textarea rows="4" placeholder="How did the day unfold? What lessons or insights emerged?"></textarea>
</section>
<button class="submit-button">Save</button>
</div>
</div>
</body>
</html>